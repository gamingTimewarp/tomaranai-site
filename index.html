<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tomaranai Project ‚Äî Visual Novels & Short Stories</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=Playfair+Display:ital,wght@0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===== NAVIGATION ===== -->
  <nav class="nav">
    <a href="index.html" class="nav-logo">TOMARANAI PROJECT</a>
    <button class="nav-hamburger" onclick="document.querySelector('.nav-links').classList.toggle('nav-open')" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-links">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="stories.html">Stories</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- ===== HERO ===== -->
  <header class="hero">
    <div class="hero-label">Learn about the unstoppable feats of humanity's heroes, ancient, modern, and future.</div>
    <h1 class="hero-title">Tomaranai Project<br/><span class="hero-accent">& The Dr. Fancyboots Series</span></h1>
    <p class="hero-sub">Come for silly sci-fi and science fantasy stories about silly characters, stay for deep explorations into the human condition.</p>
  </header>

  <!-- ===== SEARCH ===== -->
  <div class="search-container">
    <div class="search-box">
      <input type="text" id="search-input" class="search-input" placeholder="Search for a post" oninput="filterCards()" autocomplete="off" />
      <span class="search-icon">‚åï</span>
    </div>
    <p class="search-results" id="search-results"></p>
  </div>

  <!-- ===== FEATURED SECTION ===== -->
  <main class="content">

    <!-- Stories Preview -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">Latest Stories</h2>
        <a href="stories.html" class="section-link">View all ‚Üí</a>
      </div>
      <div class="card-grid">

        <article class="card">
          <span class="card-tag">Doctor Fancyboots</span>
          <h3 class="card-title"><a href="story-spaghetti-eastern.html">Spaghetti Eastern</a></h3>
          <p class="card-excerpt">Dr. Fancyboots must resolve disputes in the criminal underworld if he wants to keep eating at his favourite sandwich shop.</p>
          <a href="story-spaghetti-eastern.html" class="card-read">Read story ‚Üí</a>
        </article>

        <article class="card">
          <span class="card-tag">Doctor Fancyboots</span>
          <h3 class="card-title"><a href="story-antedicament.html">The Antedicament of Doctor Fancyboots</a></h3>
          <p class="card-excerpt">Doctor Fancyboots must team up with an old friend to recover some lost memories and fight an ancient beast.</p>
          <a href="story-antedicament.html" class="card-read">Read story ‚Üí</a>
        </article>

         <article class="card">
          <span class="card-tag">Doctor Fancyboots</span>
          <h3 class="card-title"><a href="story-postdicament.html">The Predicament, Dicament, and Postdicament of Doctor Fancyboots</a></h3>
          <p class="card-excerpt">Doctor Fancyboots has to figure out what's going on in time to get back to work by the end of the holiday.</p>
          <a href="story-postdicament.html" class="card-read">Read story ‚Üí</a>
        </article>

        <article class="card">
          <span class="card-tag">Sci-Fantasy</span><span class="card-tag">Merry & Becky</span>
        <h3 class="card-title"><a href="story-pond-trip.html">A Field Trip to a Pond</a></h3>
        <p class="card-excerpt">Two girls go to a pond and meet a frog.</p>
        <a href="story-pond-trip.html" class="card-read">Read story ‚Üí</a>
      </article>

      <article class="card">
          <span class="card-tag">Philosophy</span>
        <h3 class="card-title"><a href="story-end.html">end.</a></h3>
        <p class="card-excerpt">A man realises what true power is, and that more people have it than he thought.</p>
        <a href="story-end.html" class="card-read">Read story ‚Üí</a>
      </article>

      </div>
      <button class="section-toggle" onclick="toggleSection(this)">Show more</button>
    </section>

    <!-- Blog Preview -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">From the Blog</h2>
        <a href="blog.html" class="section-link">View all ‚Üí</a>
      </div>
      <div class="card-grid">

          <article class="card">
          <span class="card-tag card-tag--blog">Fun Facts</span>
          <h3 class="card-title"><a href="blog-internet-mole-day.html">Internet Mole Day is Coming</a></h3>
          <p class="card-excerpt">Some napkin maths, a lot of googling, and one very important date on your calendar. The internet is about to hit a mole of bits, and I have the (approximate) timestamp to prove it.</p>
          <a href="blog-internet-mole-day.html" class="card-read">Read post ‚Üí</a>
        </article>

        <article class="card">
          <span class="card-tag card-tag--blog">History and Trivia</span>
        <h3 class="card-title"><a href="whois-fancyboots.html">Who is Doctor Fancyboots?</a></h3>
        <p class="card-excerpt">Learn the history behind the ridonkulous space wizard.</p>
        <a href="whois-fancyboots.html" class="card-read">Read post ‚Üí</a>
      </article>

      <article class="card">
          <span class="card-tag card-tag--blog">Satire</span>
        <h3 class="card-title"><a href="blog-digital-miracles.html">Digital Miracles</a></h3>
        <p class="card-excerpt">Become a prophet in the technological age.</p>
        <a href="blog-digital-miracles.html" class="card-read">Read post ‚Üí</a>
      </article>

      <article class="card">
          <span class="card-tag card-tag--blog">Satire</span>
        <h3 class="card-title"><a href="blog-omega-doublesharp.html">Œ©ùÑ™</a></h3>
        <p class="card-excerpt">Leverage infinities to learn the world's easiest processor architecture.</p>
        <a href="blog-omega-doublesharp.html" class="card-read">Read post ‚Üí</a>
      </article>

      
      </div>
      <button class="section-toggle" onclick="toggleSection(this)">Show more</button>
    </section>


    <!-- Projects Preview -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">Other Projects</h2>
        <a href="projects.html" class="section-link">View all ‚Üí</a>
      </div>
      <div class="card-grid">

        <article class="card">
          <span class="card-tag">Coming Soon</span><span class="card-tag">Visual Novels</span>
          <h3 class="card-title"><a href="#">Cereal Experience Rain</a></h3>
          <p class="card-excerpt">Download the free visual novel, combining classic style and modern ideas into an unforgettable breakfast-themed experience.</p>
          <a href="#" class="card-read">Download here ‚Üí</a>
        </article>

        <article class="card">
          <span class="card-tag">Short Stories</span>
          <h3 class="card-title"><a href="project-inpeikaguya-landing.html">The Five Treasures of Inpei Kaguya</a></h3>
          <p class="card-excerpt">A mystery story from six perspectives, perfect as an interactive experience with your friends.</p>
          <a href="project-inpeikaguya-landing.html" class="card-read">Read story ‚Üí</a>
        </article>

      </div>
      <button class="section-toggle" onclick="toggleSection(this)">Show more</button>
    </section>

  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="footer">
    <p class="footer-text">¬© 2026 Basil Monty Productions. Built with HTML, CSS, and an unhealthy amount of stimulants.</p>
    <div class="footer-links">
      <a href="https://github.com/gamingTimewarp" target="_blank">GitHub</a>
      <a href="mailto:bumpywright03@gmail.com">Email</a>
    </div>
  </footer>


  <!-- ===== SCRIPTS ===== -->
  <script>
    const MAX_VISIBLE = 4;

    // --- COLLAPSE: hide cards beyond MAX_VISIBLE in each section on page load ---
    function initCollapse() {
      document.querySelectorAll('.section').forEach(section => {
        const cards = section.querySelectorAll('.card');
        const toggle = section.querySelector('.section-toggle');

        // Only show the button if there are more cards than the limit
        if (cards.length <= MAX_VISIBLE) {
          if (toggle) toggle.style.display = 'none';
          return;
        }

        cards.forEach((card, i) => {
          if (i >= MAX_VISIBLE) {
            card.classList.add('card--hidden');
          }
        });
      });
    }

    // --- TOGGLE: expand or collapse a section ---
    function toggleSection(btn) {
      const section = btn.closest('.section');
      const cards = section.querySelectorAll('.card');
      const isExpanded = btn.textContent === 'Show less';

      cards.forEach((card, i) => {
        if (i >= MAX_VISIBLE) {
          card.classList.toggle('card--hidden', isExpanded);
        }
      });

      btn.textContent = isExpanded ? 'Show more' : 'Show less';
    }
// --- SEARCH: filter cards, temporarily overriding collapse ---
    function filterCards() {
      const query = document.getElementById('search-input').value.toLowerCase().trim();
      const resultsLabel = document.getElementById('search-results');
      let matchCount = 0;

      document.querySelectorAll('.section').forEach(section => {
        const cards = section.querySelectorAll('.card');
        const toggle = section.querySelector('.section-toggle');
        let sectionHasMatch = false;

        cards.forEach((card, i) => {
          const title = card.querySelector('.card-title').textContent.toLowerCase();
          const excerpt = card.querySelector('.card-excerpt').textContent.toLowerCase();
          const tag = card.querySelector('.card-tag').textContent.toLowerCase();
          const combined = title + ' ' + excerpt + ' ' + tag;
          const isMatch = query === '' || combined.includes(query);

          if (isMatch) {
            matchCount++;
            sectionHasMatch = true;
          }

          if (query === '') {
            // Search cleared ‚Äî restore normal collapse state
            card.style.display = '';
            const toggle = section.querySelector('.section-toggle');
            const isExpanded = toggle && toggle.textContent === 'Show less';
            if (i >= MAX_VISIBLE && !isExpanded) {
              card.classList.add('card--hidden');
            }
          } else {
            // Searching ‚Äî override collapse, show/hide based on match only
            card.classList.remove('card--hidden');
            card.style.display = isMatch ? 'flex' : 'none';
          }
        });

        // Show/hide the section and its toggle button
        section.style.display = (query === '' || sectionHasMatch) ? 'block' : 'none';
        if (toggle) {
          toggle.style.display = (query === '' && cards.length > MAX_VISIBLE) ? 'block' : 'none';
        }
      });

      // Update results label
      if (query === '') {
        resultsLabel.textContent = '';
      } else if (matchCount === 0) {
        resultsLabel.textContent = 'No results found.';
      } else {
        resultsLabel.textContent = matchCount + ' result' + (matchCount !== 1 ? 's' : '') + ' found.';
      }
    }

    // Run collapse on page load
    initCollapse();
  </script>

</body>
</html>
